# 下一代高校/企业级中后台系统设计规范 (2025版)

> 最后更新：2025-12-09
> 
> 本文档定义了项目的视觉风格、设计令牌、组件规范与交互标准，确保开发一致性与用户体验统一。

---

## 目录

1. [设计理念与风格定调](#1-设计理念与风格定调)
2. [设计令牌系统](#2-设计令牌系统)
3. [色彩体系](#3-色彩体系)
4. [排版规范](#4-排版规范)
5. [图标规范](#5-图标规范)
6. [组件规范](#6-组件规范)
7. [布局与导航](#7-布局与导航)
8. [交互与动效](#8-交互与动效)
9. [业务场景体验](#9-业务场景体验)
10. [开发检查清单](#10-开发检查清单)

---

## 1. 设计理念与风格定调

### 1.1 核心风格：Modern & Airy (现代轻盈风)

摒弃传统后台沉闷、线条过多的"表格感"，转向 C 端化、高亲和力的设计语言。

**关键词**：去线条化、高留白、圆角柔和、透气

**参考标杆**：
- [Arco Design](https://arco.design/) (字节跳动) - 清爽的视觉层次
- [Linear](https://linear.app/) - 极简主义与高效交互的结合

### 1.2 风格要点

| 特征 | 传统后台 | 本项目风格 |
|-----|---------|-----------|
| 边框 | 大量分割线 | 极简线条，用间距区分 |
| 色彩 | 高饱和度 | 莫兰迪低饱和度 |
| 圆角 | 直角或小圆角 | 柔和圆角 (8px+) |
| 阴影 | 无或强阴影 | 微阴影，增加层次感 |
| 密度 | 信息密集 | 适度留白，呼吸感 |

---

## 2. 设计令牌系统

项目使用 CSS 变量定义设计令牌，支持主题切换与暗色模式。

> **文件位置**：`project-vben/packages/@core/base/design/src/design-tokens/`

### 2.1 核心变量速查

```css
:root {
  /* ========== 背景色 ========== */
  --background: 0 0% 100%;           /* 页面背景 */
  --background-deep: 216 20% 95%;    /* 主体区域背景 (微灰) */
  --card: 0 0% 100%;                 /* 卡片背景 */
  --popover: 0 0% 100%;              /* 弹出层背景 */
  --sidebar: 0 0% 100%;              /* 侧边栏背景 */
  --header: 0 0% 100%;               /* 头部背景 */

  /* ========== 文字色 ========== */
  --foreground: 210 6% 21%;          /* 主文字色 */
  --muted-foreground: 240 4% 46%;    /* 次级文字色 */
  --card-foreground: 222 84% 5%;     /* 卡片文字色 */

  /* ========== 主题色 ========== */
  --primary: 212 100% 45%;           /* 主色调 */
  --primary-foreground: 0 0% 98%;    /* 主色调上的文字 */

  /* ========== 语义色 ========== */
  --success: 144 57% 58%;            /* 成功 */
  --warning: 42 84% 61%;             /* 警告 */
  --destructive: 359 100% 65%;       /* 危险/错误 */
  --info: 240 5% 96%;                /* 信息 */

  /* ========== 边框与输入 ========== */
  --border: 240 6% 90%;              /* 默认边框 */
  --input: 240 6% 90%;               /* 输入框边框 */
  --input-background: 0 0% 100%;     /* 输入框背景 */
  --input-placeholder: 217 11% 65%;  /* 占位符颜色 */
  --ring: 222 84% 5%;                /* 聚焦环 */

  /* ========== 间距与圆角 ========== */
  --radius: 0.5rem;                  /* 基础圆角 (8px) */
  --font-size-base: 16px;            /* 基础字号 */
  --popup-z-index: 2000;             /* 弹出层层级 */
}
```

### 2.2 使用方式

在 CSS/Tailwind 中使用 HSL 格式的 CSS 变量：

```css
/* CSS 直接使用 */
.my-element {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  border: 1px solid hsl(var(--border));
  border-radius: var(--radius);
}

/* Tailwind 使用 */
<div class="bg-background text-foreground border-border rounded-lg">
```

### 2.3 圆角规范

| 变量 | 值 | 使用场景 |
|-----|-----|---------|
| `--radius` | 0.5rem (8px) | 基础圆角 |
| `rounded-sm` | calc(var(--radius) - 4px) | 小元素（标签、徽章） |
| `rounded-md` | calc(var(--radius) - 2px) | 按钮、输入框 |
| `rounded-lg` | var(--radius) | 卡片、弹窗 |
| `rounded-xl` | calc(var(--radius) + 4px) | 大卡片、模态框 |

---

## 3. 色彩体系

### 3.1 主题色预设

项目支持 **14 种主题色**，通过 `data-theme` 属性切换：

| 主题名 | 适用场景 | 切换方式 |
|-------|---------|---------|
| default | 默认蓝色 | `data-theme="default"` |
| violet | 紫罗兰 | `data-theme="violet"` |
| pink | 粉红 | `data-theme="pink"` |
| rose | 玫瑰红 | `data-theme="rose"` |
| sky-blue | 天蓝 | `data-theme="sky-blue"` |
| deep-blue | 深蓝 | `data-theme="deep-blue"` |
| green | 绿色 | `data-theme="green"` |
| deep-green | 深绿 | `data-theme="deep-green"` |
| orange | 橙色 | `data-theme="orange"` |
| yellow | 黄色 | `data-theme="yellow"` |
| zinc | 锌灰 | `data-theme="zinc"` |
| neutral | 中性灰 | `data-theme="neutral"` |
| slate | 石板灰 | `data-theme="slate"` |
| gray | 灰色 | `data-theme="gray"` |

**推荐**：高校系统建议使用校徽主色的低饱和度变体，如 `sky-blue` 或 `deep-blue`。

### 3.2 语义化颜色

| 语义 | 变量 | Tailwind 类 | 使用场景 |
|-----|-----|------------|---------|
| 成功 | `--success` | `text-success`, `bg-success` | 操作成功、已完成 |
| 警告 | `--warning` | `text-warning`, `bg-warning` | 需注意、审核中 |
| 危险 | `--destructive` | `text-destructive`, `bg-destructive` | 错误、删除确认 |
| 信息 | `--info` | `text-muted-foreground` | 辅助说明 |

### 3.3 莫兰迪状态标签色值

状态标签采用"**浅底深字**"风格，避免高饱和度刺眼颜色。

| 状态 | 背景色 | 文字色 | 示例用途 |
|-----|-------|-------|---------|
| 启用/正常 | `rgba(134, 176, 155, 0.15)` | `#4A7C6F` | 已启用、已通过 |
| 审核中/预警 | `rgba(213, 176, 132, 0.15)` | `#9A7B4F` | 待审核、即将过期 |
| 禁用/驳回 | `rgba(188, 143, 143, 0.15)` | `#8B5A5A` | 已禁用、已驳回 |
| 草稿/离职 | `rgba(156, 163, 175, 0.15)` | `#6B7280` | 草稿、已离职 |

**CustomTag 组件默认色**：`#8B9DC3` (莫兰迪灰蓝)

```vue
<!-- 使用 CustomTag 组件 -->
<CustomTag name="已通过" color="rgba(134, 176, 155, 0.85)" />
<CustomTag name="审核中" color="rgba(213, 176, 132, 0.85)" />
<CustomTag name="已驳回" color="rgba(188, 143, 143, 0.85)" />
```

### 3.4 暗色模式

项目完整支持暗色模式，通过 `.dark` 类切换：

```css
/* 暗色模式核心变量 */
.dark {
  --background: 222 10% 12%;
  --background-deep: 220 13% 9%;
  --foreground: 0 0% 95%;
  --card: 222 10% 12%;
  --border: 240 4% 22%;
  --muted: 240 4% 16%;
}
```

**开发注意**：
- 使用 CSS 变量而非硬编码颜色，确保暗色模式自动适配
- 测试时需验证亮/暗两种模式下的可读性

---

## 4. 排版规范

### 4.1 字体栈

```css
--font-family:
  -apple-system,
  BlinkMacSystemFont,
  'Segoe UI',
  Roboto,
  'Helvetica Neue',
  Arial,
  'Noto Sans',
  sans-serif,
  'Apple Color Emoji',
  'Segoe UI Emoji',
  'Segoe UI Symbol',
  'Noto Color Emoji';
```

### 4.2 字号规范

| 用途 | Tailwind 类 | 字号 |
|-----|------------|-----|
| 页面标题 | `text-2xl` | 24px |
| 卡片标题 | `text-lg` | 18px |
| 正文 | `text-base` | 16px |
| 辅助文字 | `text-sm` | 14px |
| 标签/徽章 | `text-xs` | 12px |

### 4.3 字重规范

| 用途 | Tailwind 类 | 字重 |
|-----|------------|-----|
| 标题 | `font-semibold` | 600 |
| 正文强调 | `font-medium` | 500 |
| 正文 | `font-normal` | 400 |

---

## 5. 图标规范

### 5.1 图标系统

项目使用 **Iconify** 图标系统，通过 `createIconifyIcon` 创建组件。

> **图标文件位置**：`src/icons/index.ts`
> 
> **图标库浏览**：https://icon-sets.iconify.design/

### 5.2 风格要求

- **统一使用 Outline (线性) 风格**，保持视觉清爽
- 选中/激活状态可配合淡色背景色块呈现
- **禁止使用 emoji 作为图标**

### 5.3 图标分类与导入

```typescript
// 从统一入口导入
import {
  // 通用图标
  MdiMagnify,      // 搜索
  MdiRefresh,      // 刷新
  MdiClose,        // 关闭
  MdiFilter,       // 筛选
  MdiChevronDown,  // 下拉展开
  MdiChevronUp,    // 上拉收起

  // 操作图标
  MdiPlus,         // 新增
  MdiPencil,       // 编辑
  MdiDelete,       // 删除
  MdiEye,          // 查看
  MdiExport,       // 导出
  MdiImport,       // 导入

  // 状态图标
  MdiCheck,        // 成功
  MdiAlert,        // 警告
  MdiInformation,  // 信息
  MdiCloseCircle,  // 错误

  // 导航图标
  MdiHome,         // 首页
  MdiMenu,         // 菜单
  MdiArrowLeft,    // 返回
  MdiArrowRight,   // 前进
} from '#/icons';
```

### 5.4 添加新图标

```typescript
// 在 src/icons/index.ts 中添加
import { createIconifyIcon } from '@vben/icons';

/** 新图标说明 */
export const MdiNewIcon = createIconifyIcon('mdi:icon-name');
```

**推荐图标集**：
- `mdi`: Material Design Icons (最全面)
- `lucide`: Lucide Icons (简洁美观)
- `carbon`: Carbon Icons (IBM 设计)
- `heroicons`: Heroicons (Tailwind 官方)

---

## 6. 组件规范

### 6.1 容器交互：Modal vs Drawer

| 组件 | 使用场景 | 优势 |
|-----|---------|-----|
| **Modal (模态框)** | 轻量操作、二次确认、简单表单 (< 5 个字段) | 聚焦用户注意力 |
| **Drawer (抽屉)** | 复杂表单、权限配置、长详情查看 | 保留列表上下文，纵向空间无限 |

**样式要求**：
- Modal 去除底部按钮区的分割线，追求一体化
- Drawer 从右侧滑出，默认宽度 `70vw`

### 6.2 表格组件：TableLayout

> **组件位置**：`src/components/TableLayout/`

**标准化布局**：`筛选区 → 工具栏 → 表格主体 → 分页器`

```vue
<template>
  <div class="page-container">
    <TableLayout
      :columns="columns"
      :data-source="dataSource"
      :filter-fields="filterFields"
      :action-buttons="actionButtons"
      :total="total"
      title="数据列表"
      @search="handleSearch"
      @page-change="handlePageChange"
    />
  </div>
</template>
```

**规范要求**：
- 操作列固定右侧，按钮超过 3 个自动收纳进 `...` 更多菜单
- 默认提供"中等"间距密度
- **必须使用根容器包裹**（避免 Vue Transition 警告）

### 6.3 详情组件：DetailModal / DetailDrawer

> **组件位置**：`src/components/DetailModal/`、`src/components/DetailDrawer/`

**布局模式**：
- `flat`：扁平布局，适合单一内容
- `tabs`：标签页布局，适合多维度信息

```vue
<template>
  <DetailModal
    v-model:visible="visible"
    :header="header"
    layout="flat"
    width="900px"
  >
    <template #content>
      <div class="detail-form-container">
        <div class="detail-field-group">
          <div class="detail-field">
            <label class="detail-field-label">字段名</label>
            <div class="detail-field-value">字段值</div>
          </div>
        </div>
      </div>
    </template>
  </DetailModal>
</template>
```

### 6.4 空状态：EmptyState

> **组件位置**：`src/components/EmptyState/`

**预设图标类型**：`folder` | `document` | `message` | `notification` | `search` | `wallet`

```vue
<template>
  <EmptyState
    title="暂无数据"
    description="点击下方按钮添加新数据"
    icon-type="folder"
  >
    <template #action>
      <a-button type="primary">添加数据</a-button>
    </template>
  </EmptyState>
</template>
```

**设计特点**：
- 现代化 SVG 插画风格
- **必须包含 CTA 引导按钮**

### 6.5 状态标签：CustomTag

> **组件位置**：`src/components/CustomTag/`

```vue
<template>
  <CustomTag
    id="tag-1"
    name="重要"
    type="CUSTOM"
    color="#BC8F8F"
    :icon-component="MdiFlag"
    :closable="true"
    @close="handleClose"
  />
</template>
```

**样式特点**：
- 圆角胶囊形状 (`border-radius: 16px`)
- 悬浮时微放大动效 (`scale: 1.05`)
- 删除按钮悬浮显示

---

## 7. 布局与导航

### 7.1 混合导航模式 (Mixed Navigation)

针对高校系统复杂业务模块（学工、教务、党团、宿管），采用分层导航策略：

| 区域 | 放置内容 | 示例 |
|-----|---------|-----|
| **顶栏 (Top Bar)** | 一级大模块 | 学工一体化、数据中心、系统设置 |
| **侧边栏 (Side Menu)** | 当前模块下的二/三级菜单 | 学生管理、谈话记录、统计报表 |

**优势**：有效降低菜单深度，避免侧边栏过长导致的迷失感。

### 7.2 面包屑 (Breadcrumb)

- **位置**：常驻页面顶部
- **格式**：`首页 / 用户管理 / 详情`
- **交互**：每一层级均可点击跳转，方便快速回溯

### 7.3 页面结构规范

```vue
<!-- 标准页面结构 -->
<template>
  <div class="page-container">
    <!-- 面包屑 -->
    <a-breadcrumb class="mb-4">
      <a-breadcrumb-item>首页</a-breadcrumb-item>
      <a-breadcrumb-item>当前模块</a-breadcrumb-item>
    </a-breadcrumb>

    <!-- 页面内容 -->
    <TableLayout ... />
  </div>
</template>

<style scoped>
.page-container {
  padding: 16px 24px;
}
</style>
```

---

## 8. 交互与动效

### 8.1 过渡时间规范

| 场景 | 时长 | Tailwind 类 |
|-----|-----|------------|
| 快速反馈 (按钮悬浮) | 150ms | `duration-150` |
| 标准过渡 | 200ms | `duration-200` |
| 复杂动画 (抽屉滑出) | 300ms | `duration-300` |

### 8.2 缓动函数

- **默认**：`ease-out` - 先快后慢，自然收尾
- **弹性**：`ease-in-out` - 平滑进出

### 8.3 预设动画

```css
/* Tailwind 动画类 */
.animate-accordion-down  /* 手风琴展开 */
.animate-accordion-up    /* 手风琴收起 */
.animate-collapsible-down /* 折叠面板展开 */
.animate-collapsible-up   /* 折叠面板收起 */
.animate-float           /* 悬浮动画 */
```

### 8.4 交互状态

```css
/* 按钮悬浮 */
.btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* 卡片悬浮 */
.card:hover {
  box-shadow: var(--shadow-float);
}

/* 标签悬浮 */
.custom-tag:hover {
  transform: scale(1.05);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}
```

---

## 9. 业务场景体验

### 9.1 工作台/驾驶舱 (Dashboard)

**卡片栅格布局**：

| 区块 | 内容 |
|-----|-----|
| 快捷入口 | 高频功能（发起谈话、审批）置顶 |
| 待办事项 | 聚合各模块的任务通知 |
| 数据可视化 | 遵循莫兰迪配色的统计图表 |

**图表配色原则**：
- 使用项目主题色的不同透明度变体
- 避免默认高亮色，保持视觉柔和

### 9.2 反馈与加载

| 场景 | 组件/方式 | 说明 |
|-----|----------|-----|
| 列表加载 | **骨架屏 (Skeleton)** | 展示灰色轮廓，降低等待焦虑 |
| 空数据 | **EmptyState** | 统一 SVG 插画 + CTA 按钮 |
| 操作反馈 | **Message/Notification** | 轻量提示，自动消失 |
| 加载中 | **Spin** | 仅在必要时使用，优先骨架屏 |

### 9.3 移动端适配

考虑辅导员走访宿舍、移动办公的场景：

| 特性 | 说明 |
|-----|-----|
| 表格转卡片 | PC 端宽表格在手机端响应为垂直卡片列表 |
| 信息折叠 | 手机端仅展示核心字段（姓名/学号/状态） |
| 操作区下沉 | 关键操作按钮固定于屏幕底部，便于单手操作 |

```vue
<!-- 响应式示例 -->
<template>
  <!-- PC: 表格视图 -->
  <TableLayout class="hidden md:block" ... />

  <!-- Mobile: 卡片视图 -->
  <div class="md:hidden space-y-4">
    <div v-for="item in dataSource" :key="item.id" class="card-box p-4">
      <div class="font-medium">{{ item.name }}</div>
      <div class="text-sm text-muted-foreground">{{ item.studentId }}</div>
    </div>
  </div>
</template>
```

---

## 10. 开发检查清单

开发任何页面时，请确保通过以下检查：

### 10.1 组件使用

- [ ] 列表页是否使用 `TableLayout` 组件？（禁止直接使用 `<a-table>`）
- [ ] 详情展示是否使用 `DetailModal` / `DetailDrawer`？（禁止裸 `<a-modal>` 展示详情）
- [ ] 空状态是否使用 `EmptyState` 组件？
- [ ] 文件上传是否使用 `AttachmentUpload` 组件？

### 10.2 样式规范

- [ ] 是否使用 CSS 变量而非硬编码颜色？
- [ ] 是否使用主题色变量 `hsl(var(--primary))`？
- [ ] 状态标签是否采用"浅底深字"莫兰迪配色？
- [ ] 圆角是否使用 `var(--radius)` 或 Tailwind 圆角类？

### 10.3 图标规范

- [ ] 图标是否从 `#/icons` 统一导入？
- [ ] 是否使用 Outline 风格图标？
- [ ] 是否避免使用 emoji 作为图标？

### 10.4 布局规范

- [ ] 页面组件是否有根容器元素？
- [ ] 是否包含面包屑导航？
- [ ] 间距是否使用 Tailwind 间距类（`p-4`, `m-2`, `gap-4`）？

### 10.5 交互规范

- [ ] 过渡动画是否使用标准时长（150ms/200ms/300ms）？
- [ ] 交互状态（hover/active）是否有视觉反馈？
- [ ] 暗色模式下是否正常显示？

### 10.6 TypeScript

- [ ] 所有组件 props 是否有类型定义？
- [ ] 所有 API 请求/响应是否有类型定义？

---

## 附录 A：CSS 变量速查表

### 背景色

| 变量 | 用途 | 亮色值 | 暗色值 |
|-----|-----|-------|-------|
| `--background` | 页面背景 | `#FFFFFF` | `#1C1D22` |
| `--background-deep` | 主体区域背景 | `#F7F8FA` | `#141518` |
| `--card` | 卡片背景 | `#FFFFFF` | `#1C1D22` |
| `--popover` | 弹出层背景 | `#FFFFFF` | `#242424` |
| `--sidebar` | 侧边栏 | `#FFFFFF` | `#1C1D22` |

### 文字色

| 变量 | 用途 | 亮色值 | 暗色值 |
|-----|-----|-------|-------|
| `--foreground` | 主文字 | `#333D4B` | `#F2F2F2` |
| `--muted-foreground` | 次级文字 | `#6B7280` | `#9CA3AF` |

### 边框色

| 变量 | 用途 | 亮色值 | 暗色值 |
|-----|-----|-------|-------|
| `--border` | 默认边框 | `#E5E7EB` | `#333639` |
| `--input` | 输入框边框 | `#E5E7EB` | `#FFFFFF19` |

---

## 附录 B：Tailwind 快捷类

### 常用布局类

```html
<!-- 居中 -->
<div class="flex-center">...</div>         <!-- flex + items-center + justify-center -->
<div class="flex-col-center">...</div>     <!-- flex + flex-col + items-center + justify-center -->

<!-- 卡片 -->
<div class="card-box">...</div>            <!-- bg-card + border + rounded-xl -->

<!-- 链接 -->
<a class="vben-link">...</a>               <!-- text-primary + hover 效果 -->
```

### 间距规范

| Tailwind 类 | 像素值 | 使用场景 |
|------------|-------|---------|
| `p-2` / `m-2` | 8px | 紧凑间距 |
| `p-4` / `m-4` | 16px | 标准间距 |
| `p-6` / `m-6` | 24px | 宽松间距 |
| `gap-2` | 8px | 元素间距（紧凑） |
| `gap-4` | 16px | 元素间距（标准） |
| `gap-6` | 24px | 元素间距（宽松） |

---

## 附录 C：组件导入路径

```typescript
// 组件
import { TableLayout } from '@/components/TableLayout';
import { DetailModal } from '@/components/DetailModal';
import { DetailDrawer } from '@/components/DetailDrawer';
import { EmptyState } from '@/components/EmptyState';
import { CustomTag } from '@/components/CustomTag';
import { FilterForm } from '@/components/FilterForm';
import { Timeline } from '@/components/Timeline';
import { MediaPreview } from '@/components/MediaPreview';
import { AttachmentPreview } from '@/components/AttachmentPreview';
import { RichEditor } from '@/components/RichEditor';

// 图标
import { MdiMagnify, MdiPlus, MdiPencil, MdiDelete } from '#/icons';

// 类型
import type { TableLayoutProps, ActionButton, FilterField } from '@/components/TableLayout';
import type { DetailHeader, DetailTab } from '@/components/DetailModal';
import type { EmptyStateProps } from '@/components/EmptyState';
import type { CustomTagProps } from '@/components/CustomTag';
```

---

> **文档维护**：如有更新，请同步修改本文档并更新顶部日期。
